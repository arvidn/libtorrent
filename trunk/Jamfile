project torrent
	: usage-requirements
	  <include>./include
	  <include>$(BOOST_ROOT)

# devstudio fixes

	  <cxxflags>/Zc:wchar_t
	  <cxxflags>/D"WIN32"
	;


SOURCES =
	entry.cpp
	identify_client.cpp
	peer_connection.cpp
	piece_picker.cpp
	policy.cpp
	session.cpp
	socket_win.cpp
	stat.cpp
	storage.cpp
	torrent.cpp
	torrent_handle.cpp
	torrent_info.cpp
	tracker_manager.cpp
	http_tracker_connection.cpp
	udp_tracker_connection.cpp
	file_win.cpp
	sha1.c
	;


lib torrent
	:
# $(BOOST_ROOT)/libs/filesystem//boost_filesystem
#	  $(BOOST_ROOT)/libs/thread//boost_thread
#	  $(BOOST_ROOT)/libs/date_time//boost_date_time
	  zlib//zlib
	  src/$(SOURCES)
	: <include>./include
	  <threading>multi
	  <link>static
	: debug release
	;


exe client_test
	: examples/client_test.cpp
	  torrent
	: <sysinclude>$(BOOST_ROOT)
	  <threading>multi
	: debug release
	;

