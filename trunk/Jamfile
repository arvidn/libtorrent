
project boost : $(BOOST_ROOT) ;

SOURCES =
	entry.cpp
	peer_connection.cpp
	piece_picker.cpp
	policy.cpp
	session.cpp
#	socket_bsd.cpp
	socket_win.cpp
	stat.cpp
	storage.cpp
	torrent.cpp
	torrent_info.cpp
	url_handler.cpp
	sha1.c
	;

lib torrent
	: src/$(SOURCES)
	: <include>$(BOOST_ROOT)
	  <sysinclude>$(BOOST_ROOT)
	  <include>./include
	  <include>./
	  <threading>multi
	  <link>static
	: debug release
	;


exe client_test
	: examples/client_test.cpp
	  <lib>torrent
	  @boost/libs/filesystem/build/boost_filesystem
	  @boost/libs/thread/build/boost_thread
	: <include>$(BOOST_ROOT)
	  <sysinclude>$(BOOST_ROOT)
	  <include>./include
	  <threading>multi
	: debug release
	;

